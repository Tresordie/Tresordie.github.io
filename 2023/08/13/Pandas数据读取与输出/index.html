<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Pandas数据读取与输出 | 时光渐渐逝去</title><meta name="keywords" content="Pandas"><meta name="author" content="simon yuan"><meta name="copyright" content="simon yuan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="[Python]Pandas数据读取与输出 1.pandas read_csv函数原型 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051pd.read_csv(    filepath_or_buffer: Union[str, pathlib.Path,">
<meta property="og:type" content="article">
<meta property="og:title" content="Pandas数据读取与输出">
<meta property="og:url" content="https://tresordie.github.io/2023/08/13/Pandas%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E8%BE%93%E5%87%BA/index.html">
<meta property="og:site_name" content="时光渐渐逝去">
<meta property="og:description" content="[Python]Pandas数据读取与输出 1.pandas read_csv函数原型 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051pd.read_csv(    filepath_or_buffer: Union[str, pathlib.Path,">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg">
<meta property="article:published_time" content="2023-08-13T02:00:00.000Z">
<meta property="article:modified_time" content="2023-11-26T17:35:59.879Z">
<meta property="article:author" content="simon yuan">
<meta property="article:tag" content="Pandas">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://tresordie.github.io/2023/08/13/Pandas%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E8%BE%93%E5%87%BA/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Pandas数据读取与输出',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-27 01:35:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="时光渐渐逝去" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/img/me.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">92</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">76</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">时光渐渐逝去</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Pandas数据读取与输出</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-13T02:00:00.000Z" title="发表于 2023-08-13 10:00:00">2023-08-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-26T17:35:59.879Z" title="更新于 2023-11-27 01:35:59">2023-11-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Pandas数据读取与输出"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="pythonpandas数据读取与输出">[Python]Pandas数据读取与输出</h1>
<h2 id="pandas-read_csv函数原型">1.pandas read_csv函数原型</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(</span><br><span class="line">    filepath_or_buffer: <span class="type">Union</span>[<span class="built_in">str</span>, pathlib.Path, IO[~AnyStr]],</span><br><span class="line">    sep=<span class="string">&#x27;,&#x27;</span>,</span><br><span class="line">    delimiter=<span class="literal">None</span>,</span><br><span class="line">    header=<span class="string">&#x27;infer&#x27;</span>,</span><br><span class="line">    names=<span class="literal">None</span>,</span><br><span class="line">    index_col=<span class="literal">None</span>,</span><br><span class="line">    usecols=<span class="literal">None</span>,</span><br><span class="line">    squeeze=<span class="literal">False</span>,</span><br><span class="line">    prefix=<span class="literal">None</span>,</span><br><span class="line">    mangle_dupe_cols=<span class="literal">True</span>,</span><br><span class="line">    dtype=<span class="literal">None</span>,</span><br><span class="line">    engine=<span class="literal">None</span>,</span><br><span class="line">    converters=<span class="literal">None</span>,</span><br><span class="line">    true_values=<span class="literal">None</span>,</span><br><span class="line">    false_values=<span class="literal">None</span>,</span><br><span class="line">    skipinitialspace=<span class="literal">False</span>,</span><br><span class="line">    skiprows=<span class="literal">None</span>,</span><br><span class="line">    skipfooter=<span class="number">0</span>,</span><br><span class="line">    nrows=<span class="literal">None</span>,</span><br><span class="line">    na_values=<span class="literal">None</span>,</span><br><span class="line">    keep_default_na=<span class="literal">True</span>,</span><br><span class="line">    na_filter=<span class="literal">True</span>,</span><br><span class="line">    verbose=<span class="literal">False</span>,</span><br><span class="line">    skip_blank_lines=<span class="literal">True</span>,</span><br><span class="line">    parse_dates=<span class="literal">False</span>,</span><br><span class="line">    infer_datetime_format=<span class="literal">False</span>,</span><br><span class="line">    keep_date_col=<span class="literal">False</span>,</span><br><span class="line">    date_parser=<span class="literal">None</span>,</span><br><span class="line">    dayfirst=<span class="literal">False</span>,</span><br><span class="line">    cache_dates=<span class="literal">True</span>,</span><br><span class="line">    iterator=<span class="literal">False</span>,</span><br><span class="line">    chunksize=<span class="literal">None</span>,</span><br><span class="line">    compression=<span class="string">&#x27;infer&#x27;</span>,</span><br><span class="line">    thousands=<span class="literal">None</span>,</span><br><span class="line">    decimal: <span class="built_in">str</span> = <span class="string">&#x27;.&#x27;</span>,</span><br><span class="line">    lineterminator=<span class="literal">None</span>,</span><br><span class="line">    quotechar=<span class="string">&#x27;&quot;&#x27;</span>,</span><br><span class="line">    quoting=<span class="number">0</span>,</span><br><span class="line">    doublequote=<span class="literal">True</span>,</span><br><span class="line">    escapechar=<span class="literal">None</span>,</span><br><span class="line">    comment=<span class="literal">None</span>,</span><br><span class="line">    encoding=<span class="literal">None</span>,</span><br><span class="line">    dialect=<span class="literal">None</span>,</span><br><span class="line">    error_bad_lines=<span class="literal">True</span>,</span><br><span class="line">    warn_bad_lines=<span class="literal">True</span>,</span><br><span class="line">    delim_whitespace=<span class="literal">False</span>,</span><br><span class="line">    low_memory=<span class="literal">True</span>,</span><br><span class="line">    memory_map=<span class="literal">False</span>,</span><br><span class="line">    float_precision=<span class="literal">None</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="pandas-read_csv函数参数">2.pandas read_csv函数参数</h2>
<h3 id="filepath_or_buffer">2.1 filepath_or_buffer</h3>
<blockquote>
<ol type="1">
<li>用来指定数据的路径的，从官方文档中我们知道这个参数可以是一个str对象、path对象或者类文件对象</li>
<li>例子：pd.read_csv("c:")</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">(<span class="number">100</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure>
<h3 id="sep">2.2 sep</h3>
<blockquote>
<ol type="1">
<li>指定数据中列之间的分隔符的，默认是逗号，如果没有出现sep，则列不会被区分</li>
<li>举例：下面没有逗号的被认为是一列，有逗号的被识别成正确的5列</li>
<li>sep指定的符号是用来划分列的</li>
</ol>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> csv的原始数据, python脚本运行显示为 ”3行1列“</span></span><br><span class="line"></span><br><span class="line">id;name;sex;height;time</span><br><span class="line">01;张三;F;170;2020-02-25</span><br><span class="line">02;李四;M;null;2020-02-04</span><br><span class="line">03;王五;F;168;2020-02-03</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./test_sep1.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./test_sep1.csv&#x27;</span>,sep=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> csv的原始数据, python脚本运行显示为 ”3行5列“</span></span><br><span class="line"></span><br><span class="line">id,name,sex,height,time</span><br><span class="line">01,张三,F,170,2020-02-25</span><br><span class="line">02,李四,M,null,2020-02-04</span><br><span class="line">03,王五,F,168,2020-02-03</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./test_sep2.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<h3 id="delimiter">2.3 delimiter</h3>
<blockquote>
<ol type="1">
<li>这个参数也是用来指定分隔符的，和参数sep功能相同，但默认值为None。也就是说这个参数默认是不启用的，但是启用时也可以正确读取文件</li>
</ol>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> csv的原始数据, python脚本运行显示为 ”3行1列“</span></span><br><span class="line"></span><br><span class="line">id;name;sex;height;time</span><br><span class="line">01;张三;F;170;2020-02-25</span><br><span class="line">02;李四;M;null;2020-02-04</span><br><span class="line">03;王五;F;168;2020-02-03</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./test_sep1.csv&#x27;</span>,delimiter=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<h3 id="header">2.4 header</h3>
<blockquote>
<ol type="1">
<li>header为表头，支持整形和有整形组成的列表，可以指定表头
<ul>
<li>如何设置header, 参考如下例程</li>
<li>header设置为默认0，和非零的区别</li>
</ul></li>
<li>header设置为None时，pandas默认会生成行的index</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认header = 0, 即默认第0行为header</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">        name team  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line"><span class="number">0</span>      Liver    E  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>       Arry    C  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>        Ack    A  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>      Eorge    C  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>        Oah    D  <span class="number">65</span>  <span class="number">49</span>  <span class="number">61</span>  <span class="number">86</span>    <span class="number">261</span>  <span class="number">65.25</span></span><br><span class="line">..       ...  ...  ..  ..  ..  ..    ...    ...</span><br><span class="line"><span class="number">95</span>   Gabriel    C  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>   Austin7    C  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>  Lincoln4    C  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>       Eli    E  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>       Ben    E  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">8</span> columns]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置header = None, 则不会讲行数据设置为header</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, header=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">            <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>      <span class="number">6</span>      <span class="number">7</span></span><br><span class="line"><span class="number">0</span>        name  team  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line"><span class="number">1</span>       Liver     E  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>   <span class="number">49.5</span></span><br><span class="line"><span class="number">2</span>        Arry     C  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">3</span>         Ack     A  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">4</span>       Eorge     C  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>   <span class="number">84.5</span></span><br><span class="line">..        ...   ...  ..  ..  ..  ..    ...    ...</span><br><span class="line"><span class="number">96</span>    Gabriel     C  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>   <span class="number">67.0</span></span><br><span class="line"><span class="number">97</span>    Austin7     C  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">98</span>   Lincoln4     C  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>   <span class="number">53.0</span></span><br><span class="line"><span class="number">99</span>        Eli     E  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>   <span class="number">58.5</span></span><br><span class="line"><span class="number">100</span>       Ben     E  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">101</span> rows x <span class="number">8</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="names">2.5 names</h3>
<blockquote>
<ol type="1">
<li>names参数也是用来指定列名的</li>
<li>当没有指定header参数时，pandas会从names参数而非文件中读取表头</li>
<li>指定names列表作为表头时，其是从右至左来指定各个列的</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, names=[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;team&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">                            name   team</span><br><span class="line">name     team Q1 Q2 Q3 Q4  total    avg</span><br><span class="line">Liver    E    <span class="number">89</span> <span class="number">21</span> <span class="number">24</span> <span class="number">64</span>    <span class="number">198</span>   <span class="number">49.5</span></span><br><span class="line">Arry     C    <span class="number">36</span> <span class="number">37</span> <span class="number">37</span> <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line">Ack      A    <span class="number">57</span> <span class="number">60</span> <span class="number">18</span> <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line">Eorge    C    <span class="number">93</span> <span class="number">96</span> <span class="number">71</span> <span class="number">78</span>    <span class="number">338</span>   <span class="number">84.5</span></span><br><span class="line"><span class="meta">... </span>                         ...    ...</span><br><span class="line">Gabriel  C    <span class="number">48</span> <span class="number">59</span> <span class="number">87</span> <span class="number">74</span>    <span class="number">268</span>   <span class="number">67.0</span></span><br><span class="line">Austin7  C    <span class="number">21</span> <span class="number">31</span> <span class="number">30</span> <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line">Lincoln4 C    <span class="number">98</span> <span class="number">93</span> <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>   <span class="number">53.0</span></span><br><span class="line">Eli      E    <span class="number">11</span> <span class="number">74</span> <span class="number">58</span> <span class="number">91</span>    <span class="number">234</span>   <span class="number">58.5</span></span><br><span class="line">Ben      E    <span class="number">21</span> <span class="number">43</span> <span class="number">41</span> <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">101</span> rows x <span class="number">2</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="index_col">2.6 index_col</h3>
<blockquote>
<ol type="1">
<li>pandas默认为我们生成了index，从0开始的整数。如果我们在读取csv文件时，想自定义index，尤其是我们希望把数据中的某一列数据作为index，就可以使用这个参数</li>
<li>Index_col是列index,
默认pandas生成，也可以指定，指定为整形或者字符(即可以指定列号或者列开头的字符)</li>
<li><font color='red'>指的注意：当index_col选中的是DataFrame中的内容时，整个DataFrame的行列就会发生变化，即df.shape()会和之前不同</font></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认生成的列index</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">        name team  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line"><span class="number">0</span>      Liver    E  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>       Arry    C  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>        Ack    A  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>      Eorge    C  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>        Oah    D  <span class="number">65</span>  <span class="number">49</span>  <span class="number">61</span>  <span class="number">86</span>    <span class="number">261</span>  <span class="number">65.25</span></span><br><span class="line">..       ...  ...  ..  ..  ..  ..    ...    ...</span><br><span class="line"><span class="number">95</span>   Gabriel    C  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>   Austin7    C  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>  Lincoln4    C  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>       Eli    E  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>       Ben    E  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">8</span> columns]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定index_col为‘team’</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, index_col=<span class="string">&#x27;team&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">          name  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line">team                                        </span><br><span class="line">E        Liver  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>  <span class="number">49.50</span></span><br><span class="line">C         Arry  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line">A          Ack  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line">C        Eorge  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>  <span class="number">84.50</span></span><br><span class="line">D          Oah  <span class="number">65</span>  <span class="number">49</span>  <span class="number">61</span>  <span class="number">86</span>    <span class="number">261</span>  <span class="number">65.25</span></span><br><span class="line"><span class="meta">... </span>       ...  ..  ..  ..  ..    ...    ...</span><br><span class="line">C      Gabriel  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>  <span class="number">67.00</span></span><br><span class="line">C      Austin7  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line">C     Lincoln4  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>  <span class="number">53.00</span></span><br><span class="line">E          Eli  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>  <span class="number">58.50</span></span><br><span class="line">E          Ben  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">7</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="usecols">2.7 usecols</h3>
<blockquote>
<ol type="1">
<li><p>一个文件中的数据可能有很多列，有时候我们只需要部分列，这时候可以使用usecols参数。这个参数接受一个列表对象或者可调用对象</p></li>
<li><p><font color = 'yellow'>如果是列表对象(列表中的元素可以是单个或者多个)，要求列表中的元素要么都是int，要么都是str。和index_col参数中一样，int表示需要的列在所有列中的序号，起始序号从0开始。str则是列名字符串</font></p></li>
<li><p>usercols还可以接受一个可调用的对象，最常用的调用对象是函数，即这个参数可以接收一个函数，如下面的例子，接收一个函数传参，<em>usecols</em>=<em>lambda</em>
<em>x</em>: x.startswith("t")，隐含的意思是head中含有 't' 的列</p></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用部分列，使用字符串列表指定</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, usecols= [<span class="string">&#x27;team&#x27;</span>,<span class="string">&#x27;avg&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">   team    avg</span><br><span class="line"><span class="number">0</span>     E  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>     C  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>     A  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>     C  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>     D  <span class="number">65.25</span></span><br><span class="line">..  ...    ...</span><br><span class="line"><span class="number">95</span>    C  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>    C  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>    C  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>    E  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>    E  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">2</span> columns]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用部分列，使用列号来指定</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, usecols= [<span class="number">1</span>,<span class="number">7</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">   team    avg</span><br><span class="line"><span class="number">0</span>     E  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>     C  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>     A  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>     C  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>     D  <span class="number">65.25</span></span><br><span class="line">..  ...    ...</span><br><span class="line"><span class="number">95</span>    C  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>    C  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>    C  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>    E  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>    E  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">2</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="squeeze">2.7 squeeze</h3>
<blockquote>
<ol type="1">
<li>希望读取的数据只有一列，默认返回的是DataFrame，如果我们希望返回Series，可以使用这个参数。参数接收的是布尔值，默认为False，表示返回DataFrame，如果是True，则返回Series</li>
<li>文件有多列时，无论squeeze为true还是false,都是返回dataframe,
如果只有一列时，才返回series</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Squeeze = False时，读回的是包含header</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,usecols=[<span class="number">2</span>], squeeze=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">    Q1</span><br><span class="line"><span class="number">0</span>   <span class="number">89</span></span><br><span class="line"><span class="number">1</span>   <span class="number">36</span></span><br><span class="line"><span class="number">2</span>   <span class="number">57</span></span><br><span class="line"><span class="number">3</span>   <span class="number">93</span></span><br><span class="line"><span class="number">4</span>   <span class="number">65</span></span><br><span class="line">..  ..</span><br><span class="line"><span class="number">95</span>  <span class="number">48</span></span><br><span class="line"><span class="number">96</span>  <span class="number">21</span></span><br><span class="line"><span class="number">97</span>  <span class="number">98</span></span><br><span class="line"><span class="number">98</span>  <span class="number">11</span></span><br><span class="line"><span class="number">99</span>  <span class="number">21</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">1</span> columns]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Squeeze = True，读回的是不包含header</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,usecols=[<span class="number">2</span>], squeeze=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line"><span class="number">0</span>     <span class="number">89</span></span><br><span class="line"><span class="number">1</span>     <span class="number">36</span></span><br><span class="line"><span class="number">2</span>     <span class="number">57</span></span><br><span class="line"><span class="number">3</span>     <span class="number">93</span></span><br><span class="line"><span class="number">4</span>     <span class="number">65</span></span><br><span class="line">      ..</span><br><span class="line"><span class="number">95</span>    <span class="number">48</span></span><br><span class="line"><span class="number">96</span>    <span class="number">21</span></span><br><span class="line"><span class="number">97</span>    <span class="number">98</span></span><br><span class="line"><span class="number">98</span>    <span class="number">11</span></span><br><span class="line"><span class="number">99</span>    <span class="number">21</span></span><br><span class="line">Name: Q1, Length: <span class="number">100</span>, dtype: int64</span><br></pre></td></tr></table></figure>
<h3 id="prefix">2.8 prefix</h3>
<blockquote>
<ol type="1">
<li>如果我们的数据没有表头或列名，我们也不想使用names参数来指定列名，pandas提供了一种快捷的方式给数据列添加列名。这就需要使用prefix参数，prefix这个参数可以指定一个前缀，这样列的序号会和这个前缀拼接到一块构成列名。这个参数接收一个字符串对象</li>
<li><font color='red'>运行时，python提示prefix将来可能会被取消掉</font></li>
<li><font color='red'>header必须为None时，才可以使用prefix参数</font></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,header=<span class="literal">None</span>,prefix=<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">           X0    X1  X2  X3  X4  X5     X6     X7</span><br><span class="line"><span class="number">0</span>        name  team  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line"><span class="number">1</span>       Liver     E  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>   <span class="number">49.5</span></span><br><span class="line"><span class="number">2</span>        Arry     C  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">3</span>         Ack     A  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">4</span>       Eorge     C  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>   <span class="number">84.5</span></span><br><span class="line">..        ...   ...  ..  ..  ..  ..    ...    ...</span><br><span class="line"><span class="number">96</span>    Gabriel     C  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>   <span class="number">67.0</span></span><br><span class="line"><span class="number">97</span>    Austin7     C  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">98</span>   Lincoln4     C  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>   <span class="number">53.0</span></span><br><span class="line"><span class="number">99</span>        Eli     E  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>   <span class="number">58.5</span></span><br><span class="line"><span class="number">100</span>       Ben     E  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">101</span> rows x <span class="number">8</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="mangle_dupe_cols">2.9 mangle_dupe_cols</h3>
<blockquote>
<ol type="1">
<li>这个参数接收一个布尔值，如果是True，若数据中存在同名列，如有两个name列，则第一个列名保持不变，第二个name列将被重命名为name.1。如果是FALSE会抛出ValueError异常</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文件中存在同名列</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,mangle_dupe_cols=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">ValueError                                Traceback (most recent call last)</span><br><span class="line">~\AppData\Local\Temp\ipykernel_18692\<span class="number">182617956.</span>py <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">      <span class="number">1</span> <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">      <span class="number">2</span> </span><br><span class="line">----&gt; <span class="number">3</span> df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,mangle_dupe_cols=<span class="literal">False</span>)</span><br><span class="line">      <span class="number">4</span> </span><br><span class="line">      <span class="number">5</span> <span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line">c:\Users\simon\AppData\Local\Programs\Python\Python37\lib\site-packages\pandas\util\_decorators.py <span class="keyword">in</span> wrapper(*args, **kwargs)</span><br><span class="line">    <span class="number">309</span>                     stacklevel=stacklevel,</span><br><span class="line">    <span class="number">310</span>                 )</span><br><span class="line">--&gt; <span class="number">311</span>             <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line">    <span class="number">312</span> </span><br><span class="line">    <span class="number">313</span>         <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line">c:\Users\simon\AppData\Local\Programs\Python\Python37\lib\site-packages\pandas\io\parsers\readers.py <span class="keyword">in</span> read_csv(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)</span><br><span class="line">    <span class="number">584</span>     kwds.update(kwds_defaults)</span><br><span class="line">    <span class="number">585</span> </span><br><span class="line">--&gt; <span class="number">586</span>     <span class="keyword">return</span> _read(filepath_or_buffer, kwds)</span><br><span class="line">    <span class="number">587</span> </span><br><span class="line">    <span class="number">588</span> </span><br><span class="line"></span><br><span class="line">c:\Users\simon\AppData\Local\Programs\Python\Python37\lib\site-packages\pandas\io\parsers\readers.py <span class="keyword">in</span> _read(filepath_or_buffer, kwds)</span><br><span class="line">    <span class="number">480</span> </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>,mangle_dupe_cols=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">        name team  Q1  Q1<span class="number">.1</span>  Q3  Q4  total    avg</span><br><span class="line"><span class="number">0</span>      Liver    E  <span class="number">89</span>    <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>       Arry    C  <span class="number">36</span>    <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>        Ack    A  <span class="number">57</span>    <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>      Eorge    C  <span class="number">93</span>    <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>        Oah    D  <span class="number">65</span>    <span class="number">49</span>  <span class="number">61</span>  <span class="number">86</span>    <span class="number">261</span>  <span class="number">65.25</span></span><br><span class="line">..       ...  ...  ..   ...  ..  ..    ...    ...</span><br><span class="line"><span class="number">95</span>   Gabriel    C  <span class="number">48</span>    <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>   Austin7    C  <span class="number">21</span>    <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>  Lincoln4    C  <span class="number">98</span>    <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>       Eli    E  <span class="number">11</span>    <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>       Ben    E  <span class="number">21</span>    <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br><span class="line"></span><br><span class="line">[<span class="number">100</span> rows x <span class="number">8</span> columns]</span><br></pre></td></tr></table></figure>
<h3 id="dtype">2.10 dtype</h3>
<blockquote>
<ol type="1">
<li>read_csv将其读入DataFrame时，会指定各数据列的数据类型</li>
</ol>
</blockquote>
<h3 id="engine">2.11 engine</h3>
<blockquote>
<ol type="1">
<li>这个参数用来确定read_csv函数在解析数据时使用的引擎，默认使用C引擎，解析速度较快。另一个可选的引擎是python引擎，解析速度虽然慢，但是功能全面</li>
</ol>
</blockquote>
<h3 id="converters">2.12 <strong>converters</strong></h3>
<blockquote>
<ol type="1">
<li>可以使用converters传参对具体的数据进行替换或者修改</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, converters=&#123;<span class="string">&#x27;name&#x27;</span>: <span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x == <span class="string">&#x27;Liver&#x27;</span> <span class="keyword">else</span> <span class="number">0</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">    name team  Q1  Q2  Q3  Q4  total    avg</span><br><span class="line"><span class="number">0</span>      <span class="number">1</span>    E  <span class="number">89</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">64</span>    <span class="number">198</span>  <span class="number">49.50</span></span><br><span class="line"><span class="number">1</span>      <span class="number">0</span>    C  <span class="number">36</span>  <span class="number">37</span>  <span class="number">37</span>  <span class="number">57</span>    <span class="number">167</span>  <span class="number">41.75</span></span><br><span class="line"><span class="number">2</span>      <span class="number">0</span>    A  <span class="number">57</span>  <span class="number">60</span>  <span class="number">18</span>  <span class="number">84</span>    <span class="number">219</span>  <span class="number">54.75</span></span><br><span class="line"><span class="number">3</span>      <span class="number">0</span>    C  <span class="number">93</span>  <span class="number">96</span>  <span class="number">71</span>  <span class="number">78</span>    <span class="number">338</span>  <span class="number">84.50</span></span><br><span class="line"><span class="number">4</span>      <span class="number">0</span>    D  <span class="number">65</span>  <span class="number">49</span>  <span class="number">61</span>  <span class="number">86</span>    <span class="number">261</span>  <span class="number">65.25</span></span><br><span class="line">..   ...  ...  ..  ..  ..  ..    ...    ...</span><br><span class="line"><span class="number">95</span>     <span class="number">0</span>    C  <span class="number">48</span>  <span class="number">59</span>  <span class="number">87</span>  <span class="number">74</span>    <span class="number">268</span>  <span class="number">67.00</span></span><br><span class="line"><span class="number">96</span>     <span class="number">0</span>    C  <span class="number">21</span>  <span class="number">31</span>  <span class="number">30</span>  <span class="number">43</span>    <span class="number">125</span>  <span class="number">31.25</span></span><br><span class="line"><span class="number">97</span>     <span class="number">0</span>    C  <span class="number">98</span>  <span class="number">93</span>   <span class="number">1</span>  <span class="number">20</span>    <span class="number">212</span>  <span class="number">53.00</span></span><br><span class="line"><span class="number">98</span>     <span class="number">0</span>    E  <span class="number">11</span>  <span class="number">74</span>  <span class="number">58</span>  <span class="number">91</span>    <span class="number">234</span>  <span class="number">58.50</span></span><br><span class="line"><span class="number">99</span>     <span class="number">0</span>    E  <span class="number">21</span>  <span class="number">43</span>  <span class="number">41</span>  <span class="number">74</span>    <span class="number">179</span>  <span class="number">44.75</span></span><br></pre></td></tr></table></figure>
<h3 id="true_values和false_values">2.13
<strong>true_values和false_values</strong></h3>
<blockquote>
<ol type="1">
<li>这两个参数都是接收一个列表对象，主要作用是通过判断是否为指定内容，然后将其转换为True或者False</li>
<li><font color ='purple'>当我们使用true_values和false_values这两个参数时，需要保证true_values+false_values中的元素能够覆盖到列的所有取值，否则使用这个参数是不会产生作用的</font></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">id</span>,name,sex,height,time,y</span><br><span class="line">01,张三,F,<span class="number">170</span>,<span class="number">2020</span>-02-<span class="number">25</span>,是</span><br><span class="line">02,李四,M,null,<span class="number">2020</span>-02-04,否</span><br><span class="line">03,王五,F,<span class="number">168</span>,<span class="number">2020</span>-02-03,是</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,true_values=[<span class="string">&#x27;是&#x27;</span>],false_values=[<span class="string">&#x27;否&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time      y</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span>   <span class="literal">True</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04  <span class="literal">False</span></span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03   <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,false_values=[<span class="string">&#x27;是&#x27;</span>,<span class="string">&#x27;否&#x27;</span>])</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time      y</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04  <span class="literal">False</span></span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03  <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,true_values=[<span class="string">&#x27;是&#x27;</span>,<span class="string">&#x27;否&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time     y</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span>  <span class="literal">True</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04  <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03  <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面的程序是没有产生效果</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,false_values=[<span class="string">&#x27;是&#x27;</span>])</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time  y</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span>  是</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04  否</span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03  是</span><br></pre></td></tr></table></figure>
<h3 id="skipinitialspace">2.14 <strong>skipinitialspace</strong></h3>
<blockquote>
<ol type="1">
<li>如果数据之前存在空格，或者说分隔符与数据之间存在空格，这个参数如果指定为True，会跳过这个空格再读数据.。如果取值为False不会跳过空格，而是将空格作为数据的一部分进行读取。这个参数的默认取值为False</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, header=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line">  <span class="number">21</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;./team_avg.csv&#x27;</span>, header=<span class="literal">None</span>, skipinitialspace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">1</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute and output</span></span><br><span class="line"><span class="number">21</span></span><br></pre></td></tr></table></figure>
<h3 id="skiprows">2.14 <strong>skiprows</strong></h3>
<blockquote>
<ol type="1">
<li><p>这个参数用来指定在读取数据时，我们想跳过哪些行。可以接收int、list、可调用对象等数据类型</p>
<ul>
<li><p>可以是int，此时表示从文件开头算起，跳过多少行。如指定为2，表示跳过前2行，从第3行开始读数据,<font color='yellow'>此时需要注意的是head，如果之前指定了head=0，那么跳过2行之后，第3行将变成了head</font></p></li>
<li><p>可以是一个列表，列表中的元素表示哪些行的数据可以跳过，例如我们想跳过第3行数据，可以传递一个列表[2],<font color='red'>向skiprows传递2和[2]，结果是完全不同的。传递int，表示从文件开头算起，总共跳过多少行。传递一个list，表示跳过指定的行</font></p></li>
<li><p>跳过第0行及第2行：</p>
<p>df = pd.read_csv(r'C:.csv'<br />
,skiprows=lambda x:x in [0,2])</p></li>
</ul></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,skiprows=<span class="number">2</span>)</span><br><span class="line">​</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   02  李四   M  null  <span class="number">2020</span>-02-04</span><br><span class="line"><span class="number">0</span>   <span class="number">3</span>  王五   F   <span class="number">168</span>  <span class="number">2020</span>-02-03</span><br></pre></td></tr></table></figure>
<h3 id="skipfooter">2.15 <strong>skipfooter</strong></h3>
<blockquote>
<ol type="1">
<li>接收一个int，表示不读取数据的最后3行。read_csv默认使用的c引擎不支持这个参数，因此默认条件下使用这个参数时会打印警告信息。如果我们修改数据的解析引擎为python引擎时则不会抛出警告。另外使用python引擎时，可能会出现乱码，此时可以搭配使用encoding参数指定编码防止出现乱码</li>
<li>c引擎不支持skipfooter参数，可以指定引擎为python</li>
</ol>
</blockquote>
<h3 id="nrows">2.16 <strong>nrows</strong></h3>
<blockquote>
<ol type="1">
<li>这个参数指定pandas一次性从文件中读取多少行数据，这在读取海量数据中很有用。此外，有时候我们只是想了解一下数据，没必要把数据都读入内存，只需要读入几行看一下即可，也可以使用这个参数</li>
<li>这里的行数不包括表头</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,nrows=<span class="number">3</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name  sex  height        time</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三    F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四    M     NaN  <span class="number">2020</span>-02-04</span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五    F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03</span><br></pre></td></tr></table></figure>
<h3 id="na_values">2.17 <strong>na_values</strong></h3>
<blockquote>
<ol type="1">
<li><p>这个参数主要用来识别缺失值。即指定数据中哪些字符被识别为缺失值</p></li>
<li><p>pandas有一个默认缺失值标识符列表，默认将所有列中下面的字符识别为缺失值nan</p>
<ul>
<li>```python<br />
'', '#N/A', '#N/A N/A', '#NA', '-1.#IND', '-1.#QNAN', '-NaN', '-nan',
'1.#IND', '1.#QNAN', '<NA>', 'N/A', 'NA', 'NULL', 'NaN', 'n/a', 'nan',
'null'.<br />
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. 这个参数可以接收字符串、列表或字典</span><br><span class="line"></span><br><span class="line">   * 可以是字符串。如`&quot;&#x27;null&#x27;&quot;`，此时将所有列中含有&#x27;null&#x27;的字符全部识别为nan。</span><br><span class="line">   * 可以指定为一个列表，如`[&quot;&#x27;null&#x27;&quot;,&#x27;(null)&#x27;]`，此时会将所有列中含有`&#x27;null&#x27;`和`(null)`字符识别为nan；</span><br><span class="line">   * 可以指定为一个字典，为某一列指定缺失值，字典的key为列名，value可以是上面所示的字符串或列表。</span><br><span class="line"></span><br><span class="line">### 2.18 **keep_default_na**</span><br><span class="line"></span><br><span class="line">1. keep_default_na可以被设置为true或者false, 当被设置为true时，那么na_values中的null值的list就会起作用；当keep_default_na为false时，na_values中的null就不会被取代为NaN了</span><br><span class="line"></span><br><span class="line">![image-20230903184715850](https://raw.githubusercontent.com/Tresordie/PicBed/master/image-20230903184715850.png)</span><br><span class="line"></span><br><span class="line">![image-20230903184750976](https://raw.githubusercontent.com/Tresordie/PicBed/master/image-20230903184750976.png)</span><br><span class="line"></span><br><span class="line">### 2.19 **na_filter**</span><br><span class="line"></span><br><span class="line">1. 控制pandas在读取数据时是否自动检测数据中的缺失值(大文件中有没有空值)。这个参数就是用来控制这个行为的，默认为True表示检测缺失值，如果设置为False，表示不检测缺失值，这样可以提高数据读取的速度</span><br><span class="line">2. &lt;font color=&#x27;yellow&#x27;&gt;当这个参数设置为False时，na_values和keep_default_na两个参数将被忽略&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">### 2.20 **skip_blank_lines**</span><br><span class="line"></span><br><span class="line">1. 判断是否跳过空行。如果指定为True，表示跳过空行。指定为False，不跳过空行，空行数据正常读取但被全部转换为缺失值nan。默认值为True</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">id,name,sex,height,time</span><br><span class="line">01,张三,F,170,2020-02-25</span><br><span class="line">02,李四,M,null,&#x27;null&#x27;</span><br><span class="line"></span><br><span class="line">03,王五,F,168,2020-02-03</span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span><br><span class="line">                ,skip_blank_lines=True</span><br><span class="line">                )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">  id name  sex  height        time</span><br><span class="line">0   1   张三    F   170.0  2020-02-25</span><br><span class="line">1   2   李四    M     NaN  2020-02-04</span><br><span class="line">2   3   王五    F   168.0  2020-02-03</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span><br><span class="line">                   # 设置为False，会把空行读入，但是设置为缺失值。</span><br><span class="line">                ,skip_blank_lines=False</span><br><span class="line">                )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   id name  sex  height        time</span><br><span class="line">0  1.0   张三    F   170.0  2020-02-25</span><br><span class="line">1  2.0   李四    M     NaN  2020-02-04</span><br><span class="line">2  NaN  NaN  NaN     NaN         NaN</span><br><span class="line">3  3.0   王五    F   168.0  2020-02-03</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
</blockquote>
<h3 id="parse_dates">2.21 <strong>parse_dates</strong></h3>
<blockquote>
<ol type="1">
<li>专门用来设置日期时间列的数据类型</li>
<li>这个参数可以接收布尔类型、整数列表、字符串列表、列表的列表、字典作为实参
<ul>
<li>可以接收布尔类型数据。此时常常搭配index_col参数来使用</li>
<li>可以接收整数列表或字符列表，这里的字符为列名。这样可以将一个或多个列解析为日期时间格式</li>
<li><font color='yellow'>可以接收列表的列表，即二维列表，这样可以将多个列解析为一个时间日期格式列</font></li>
<li><font color='red'>可以是一个字典,
可以对上面生成的新的列自定义列名</font></li>
</ul></li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,parse_dates=<span class="literal">True</span></span><br><span class="line">                 ,index_col=<span class="string">&#x27;time&#x27;</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">            <span class="built_in">id</span> name sex  height  year  month  day</span><br><span class="line">time                                             </span><br><span class="line"><span class="number">2020</span>-02-<span class="number">25</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>      <span class="number">2</span>    <span class="number">5</span></span><br><span class="line"><span class="number">2020</span>-02-04   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>      <span class="number">2</span>    <span class="number">4</span></span><br><span class="line"><span class="number">2020</span>-02-03   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>      <span class="number">2</span>    <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.index</span><br><span class="line">DatetimeIndex([<span class="string">&#x27;2020-02-25&#x27;</span>, <span class="string">&#x27;2020-02-04&#x27;</span>, <span class="string">&#x27;2020-02-03&#x27;</span>], dtype=<span class="string">&#x27;datetime64[ns]&#x27;</span>, name=<span class="string">&#x27;time&#x27;</span>, freq=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,parse_dates=[<span class="number">4</span>,<span class="number">5</span>] <span class="comment"># 等价于,parse_dates=[&#x27;time&#x27;,&#x27;year&#x27;]</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height       time       year  month  day</span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span> <span class="number">2020</span>-02-<span class="number">25</span> <span class="number">2020</span>-01-01      <span class="number">2</span>    <span class="number">5</span></span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN <span class="number">2020</span>-02-04 <span class="number">2020</span>-01-01      <span class="number">2</span>    <span class="number">4</span></span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span> <span class="number">2020</span>-02-03 <span class="number">2020</span>-01-01      <span class="number">2</span>    <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.info()</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">frame</span>.<span class="title">DataFrame</span>&#x27;&gt;</span></span><br><span class="line"><span class="class"><span class="title">RangeIndex</span>:</span> <span class="number">3</span> entries, <span class="number">0</span> to <span class="number">2</span></span><br><span class="line">Data columns (total <span class="number">8</span> columns):</span><br><span class="line"> <span class="comment">#   Column  Non-Null Count  Dtype         </span></span><br><span class="line">---  ------  --------------  -----         </span><br><span class="line"> <span class="number">0</span>   <span class="built_in">id</span>      <span class="number">3</span> non-null      int64         </span><br><span class="line"> <span class="number">1</span>   name    <span class="number">3</span> non-null      <span class="built_in">object</span>        </span><br><span class="line"> <span class="number">2</span>   sex     <span class="number">3</span> non-null      <span class="built_in">object</span>        </span><br><span class="line"> <span class="number">3</span>   height  <span class="number">2</span> non-null      float64       </span><br><span class="line"> <span class="number">4</span>   time    <span class="number">3</span> non-null      datetime64[ns]</span><br><span class="line"> <span class="number">5</span>   year    <span class="number">3</span> non-null      datetime64[ns]</span><br><span class="line"> <span class="number">6</span>   month   <span class="number">3</span> non-null      int64         </span><br><span class="line"> <span class="number">7</span>   day     <span class="number">3</span> non-null      int64         </span><br><span class="line">dtypes: datetime64[ns](<span class="number">2</span>), float64(<span class="number">1</span>), int64(<span class="number">3</span>), <span class="built_in">object</span>(<span class="number">2</span>)</span><br><span class="line">memory usage: <span class="number">320.0</span>+ <span class="built_in">bytes</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将year列、month列、day列解析为一个日期时间列, 出现了一个新的列year_month_day，原来的三个列则舍去了</span></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,parse_dates=[[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]] <span class="comment">#等价于,parse_dates=[[&#x27;year&#x27;,&#x27;month&#x27;,&#x27;day&#x27;]]</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">  year_month_day  <span class="built_in">id</span> name sex  height        time</span><br><span class="line"><span class="number">0</span>     <span class="number">2020</span>-02-05   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span></span><br><span class="line"><span class="number">1</span>     <span class="number">2020</span>-02-04   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04</span><br><span class="line"><span class="number">2</span>     <span class="number">2020</span>-02-03   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,parse_dates=&#123;<span class="string">&#x27;date&#x27;</span>:[<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;month&#x27;</span>,<span class="string">&#x27;day&#x27;</span>]&#125;</span><br><span class="line">                 <span class="comment"># ,parse_dates=[[5,6,7]]</span></span><br><span class="line">                 <span class="comment"># ,parse_dates=&#123;&#x27;date&#x27;:[5,6,7]&#125;</span></span><br><span class="line">                 <span class="comment"># ,parse_dates=True</span></span><br><span class="line">                 <span class="comment"># ,index_col=&#x27;time&#x27;</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">        date  <span class="built_in">id</span> name sex  height        time</span><br><span class="line"><span class="number">0</span> <span class="number">2020</span>-02-05   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span></span><br><span class="line"><span class="number">1</span> <span class="number">2020</span>-02-04   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04</span><br><span class="line"><span class="number">2</span> <span class="number">2020</span>-02-03   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03</span><br></pre></td></tr></table></figure>
<h3 id="keep_date_col">2.22 <strong>keep_date_col</strong></h3>
<blockquote>
<ol type="1">
<li>parse_dates中的列表的列表中year, month,
day三个组成一个新的日期时间列date, 但是原来的year,
month和day被删去了，如果将keep_date_col设置为True,
则可以保留这三个列</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,parse_dates=&#123;<span class="string">&#x27;date&#x27;</span>:[<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;month&#x27;</span>,<span class="string">&#x27;day&#x27;</span>]&#125;</span><br><span class="line">                 ,keep_date_col=<span class="literal">True</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">        date  <span class="built_in">id</span> name sex  height        time  year month day</span><br><span class="line"><span class="number">0</span> <span class="number">2020</span>-02-05   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span>  <span class="number">2020</span>    02  05</span><br><span class="line"><span class="number">1</span> <span class="number">2020</span>-02-04   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04  <span class="number">2020</span>    02  04</span><br><span class="line"><span class="number">2</span> <span class="number">2020</span>-02-03   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03  <span class="number">2020</span>    02  03</span><br></pre></td></tr></table></figure>
<h3 id="iterator">2.23 <strong>iterator</strong></h3>
<blockquote>
<ol type="1">
<li>当数据量很大时，这个参数比较有用。这个参数如果为True，那么read_csv将返回一个
TextFileReader 对象，而不是DataFrame</li>
<li>调用TextFileReader对象的get_chunk方法，就可以设置每次读多少行数据</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先函数返回了一个TextFileReader对象，第一次调用TextFileReader的get_chunk方法时，我们指定读取两条数据，结果返回两条。然后数据中只有一条数据了，我们再调用get_chunk方法，让读取2条数据，尽管数据量不够，那么也不会报错，有几条数据就返回几条。只有一条数据就返回一条。但是当第三次调用get_chunk方法时，由于已经没有数据了，所以抛出了StopIteration异常。</span></span><br><span class="line"></span><br><span class="line">熟悉迭代器的伙伴相信已经看出来了，这个TextFileReader似乎是一个类似迭代器的对象，事实上确实是如此的，其确实有__iter__和__next__方法。感兴趣的可以自己探索一下</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,iterator=<span class="literal">True</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">&lt;pandas.io.parsers.TextFileReader at <span class="number">0x1e4c99f7880</span>&gt;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.get_chunk(<span class="number">2</span>)</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time </span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span> </span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04 </span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.get_chunk(<span class="number">2</span>)</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time </span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F     <span class="number">168</span>  <span class="number">2020</span>-02-03 </span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.get_chunk(<span class="number">2</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;&lt;ipython-input-303-4e7dd29059ce&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    df.get_chunk(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">1232</span>, <span class="keyword">in</span> get_chunk</span><br><span class="line">    <span class="keyword">return</span> self.read(nrows=size)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">1198</span>, <span class="keyword">in</span> read</span><br><span class="line">    ret = self._engine.read(nrows)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">2157</span>, <span class="keyword">in</span> read</span><br><span class="line">    data = self._reader.read(nrows)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">847</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader.read</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">887</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader._read_low_memory</span><br><span class="line"></span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<h3 id="chunksize">2.24 <strong>chunksize</strong></h3>
<blockquote>
<ol type="1">
<li>可以给get_chunk方法设置默认每次迭代时返回多少数据，这个在chunksize参数中设置，如下面例子中，我们设置每次迭代时返回2条数据，这样每次调用get_chunk方法时，就不需要传入参数了</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 ,iterator=<span class="literal">True</span></span><br><span class="line">                 ,chunksize=<span class="number">2</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df.get_chunk()</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time </span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span> </span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04 </span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;df.get_chunk()</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time </span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F     <span class="number">168</span>  <span class="number">2020</span>-02-03 </span><br></pre></td></tr></table></figure>
<h3 id="compression">2.25 <strong>compression</strong></h3>
<blockquote>
<ol type="1">
<li>如果数据本身是压缩文件，read_csv允许我们在不解压的条件下读取数据。这需要指定compression参数，可以为'bz2',
'gzip', 'xz', 'zip'</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;D:\MyDocuments\yj\桌面\Python\practice\data.zip&#x27;</span></span><br><span class="line">                  ,compression=<span class="string">&#x27;zip&#x27;</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">   <span class="built_in">id</span> name sex  height        time </span><br><span class="line"><span class="number">0</span>   <span class="number">1</span>   张三   F   <span class="number">170.0</span>  <span class="number">2020</span>-02-<span class="number">25</span> </span><br><span class="line"><span class="number">1</span>   <span class="number">2</span>   李四   M     NaN  <span class="number">2020</span>-02-04 </span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>   王五   F   <span class="number">168.0</span>  <span class="number">2020</span>-02-03 </span><br></pre></td></tr></table></figure>
<h3 id="encoding">2.26 <strong>encoding</strong></h3>
<blockquote>
<ol type="1">
<li>指定读取文件时使用的编码，通常是<code>utf-8</code>，可以根据自己文件的实际编码进行设置</li>
</ol>
</blockquote>
<h3 id="error_bad_lines">2.27 <strong>error_bad_lines</strong></h3>
<blockquote>
<ol type="1">
<li>数据中可能有一些行比其他行多一些列。有太多列的行(例如csv行有太多逗号)在默认情况（error_bad_lines设置为True）下会抛出异常，函数也不会返回DataFrame。如果error_bad_lines为False，那么DataFrame会正常返回，而且这些“坏行”会从返回的DataFrame中删除。</li>
<li>将error_bad_lines设置为False之后，会将有多余列的行直接删除，如下截图</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 把我们的数据中第三行末尾增加一个逗号，表示这一行多了一个字段，来演示</span></span><br><span class="line">&gt;&gt;&gt;df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line">                 )</span><br><span class="line">&gt;&gt;&gt;df</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;&lt;ipython-input-320-e8e87212b1f9&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    df = pd.read_csv(<span class="string">r&#x27;C:\Users\yj\Desktop\data.csv&#x27;</span></span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">688</span>, <span class="keyword">in</span> read_csv</span><br><span class="line">    <span class="keyword">return</span> _read(filepath_or_buffer, kwds)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">460</span>, <span class="keyword">in</span> _read</span><br><span class="line">    data = parser.read(nrows)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">1198</span>, <span class="keyword">in</span> read</span><br><span class="line">    ret = self._engine.read(nrows)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;C:\Users\yj\Anaconda3\lib\site-packages\pandas\io\parsers.py&quot;</span>, line <span class="number">2157</span>, <span class="keyword">in</span> read</span><br><span class="line">    data = self._reader.read(nrows)</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">847</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader.read</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">862</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader._read_low_memory</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">918</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader._read_rows</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">905</span>, <span class="keyword">in</span> pandas._libs.parsers.TextReader._tokenize_rows</span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;pandas\_libs\parsers.pyx&quot;</span>, line <span class="number">2042</span>, <span class="keyword">in</span> pandas._libs.parsers.raise_parser_error</span><br><span class="line"></span><br><span class="line">ParserError: Error tokenizing data. C error: Expected <span class="number">5</span> fields <span class="keyword">in</span> line <span class="number">3</span>, saw <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p><img
src="https://raw.githubusercontent.com/Tresordie/PicBed/master/image-20230903212611063.png"
alt="image-20230903212611063" /></p>
<h3 id="warn_bad_lines">2.27 <strong>warn_bad_lines</strong></h3>
<blockquote>
<ol type="1">
<li>这个参数一般和error_bad_lines一块使用，当error_bad_lines设置为False时，这个参数设置为True时（也是默认情况），会打印警告信息。上面的例子我们已经看到了。如果设置为False，则不打印警告信息</li>
</ol>
</blockquote>
<h3 id="low_memory">2.28 <strong>low_memory</strong></h3>
<blockquote>
<ol type="1">
<li><p>从参数名上看，这个参数似乎是和内存有关的。首先我们需要清楚，pandas不是一次性把数据都读入到内存的，而是分块读取数据的，也就是说先读第一块数据，再读第二块数据。这样可以避免当数据量过大，一次性将数据读入内存带来的内存溢出。</p>
<p>前面提到，pandas在读取数据时，默认会通过猜的方式来设置各列的数据类型（除非指定了dtype参数）。分块读数据会有这样一个问题：如果同一列数据在不同块中有不同的数据类型，如何设置这个列的数据类型呢？例如身高height这个列，第一块数据都是int，pandas会首先认为这个列是int类型，但是第二块中某一行的height是一个float，这时候，pandas会采用向上兼容的方式，认为这个列是float类型。但是会在数据读取完毕后打印一个DtypeWarning警告信息，提示这个列是mixed
types。</p>
<p>避免出现这种情况，可以将low_memory参数设置为False（默认为True，表示分块读数据），这样pandas在读数据时就不是用分块读取了。但是弊端还是很明显的，就是一旦数据量过大，会出现内存溢出。</p>
<p>解决这个问题的另一个方法是读取数据时指定dtype参数，这样pandas就不用猜测dtype了，也就不会出现mixed
types</p></li>
</ol>
</blockquote>
<h2 id="pandas-read_excel函数参数">3.pandas read_excel函数参数</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(io, sheet_name=<span class="number">0</span>, header=<span class="number">0</span>,</span><br><span class="line">              names=<span class="literal">None</span>, index_col=<span class="literal">None</span>,</span><br><span class="line">              usecols=<span class="literal">None</span>, squeeze=<span class="literal">False</span>,</span><br><span class="line">              dtype=<span class="literal">None</span>, engine=<span class="literal">None</span>,</span><br><span class="line">              converters=<span class="literal">None</span>, true_values=<span class="literal">None</span>,</span><br><span class="line">              false_values=<span class="literal">None</span>, skiprows=<span class="literal">None</span>,</span><br><span class="line">              nrows=<span class="literal">None</span>, na_values=<span class="literal">None</span>,</span><br><span class="line">              keep_default_na=<span class="literal">True</span>, verbose=<span class="literal">False</span>,</span><br><span class="line">              parse_dates=<span class="literal">False</span>, date_parser=<span class="literal">None</span>,</span><br><span class="line">              thousands=<span class="literal">None</span>, comment=<span class="literal">None</span>, skipfooter=<span class="number">0</span>,</span><br><span class="line">              convert_float=<span class="literal">True</span>, mangle_dupe_cols=<span class="literal">True</span>, **kwds)</span><br></pre></td></tr></table></figure>
<h3 id="io">3.1 io</h3>
<blockquote>
<ol type="1">
<li>io类似csv中的file_path_buffer, 即文件路径</li>
</ol>
</blockquote>
<h3 id="sheet_name">3.2 sheet_name</h3>
<blockquote>
<ol type="1">
<li>表格：excel中的sheet的页面</li>
</ol>
</blockquote>
<h3 id="header-1">3.3 header</h3>
<blockquote>
<ol type="1">
<li>表头，类似与csv</li>
</ol>
</blockquote>
<h3 id="names-1">3.4 names</h3>
<blockquote>
<ol type="1">
<li>列名: 实际是header_row</li>
</ol>
</blockquote>
<h2 id="数据输出">4. 数据输出</h2>
<h3 id="df.to_csv">4.1 df.to_csv()</h3>
<blockquote>
<ol type="1">
<li>写入数据到csv: df.to_csv('xxx.csv')</li>
<li>当写入文件太大时，可以在写入时进行压缩
<ul>
<li>compression_opts = dict(method='zip', archive_name='out.csv')<br />
df.to_csv('out.zip', index=False, compression=compression_opts)</li>
</ul></li>
</ol>
</blockquote>
<h3 id="df.to_excel">4.2 df.to_excel()</h3>
<blockquote>
<ol type="1">
<li>df.to_excel('xxxx.xlsx')</li>
<li>df.to_excel('xxxx.xlsx', sheet_name='Sheet1', index=False)</li>
<li>df.to_excel('xxxx.xlsx', sheet_name='Sheet1', index_label='label',
merge_cells = False)</li>
<li>多个df分不同sheet写入到一个excel中：
<ul>
<li>with pd.ExcelWriter('path_to_file.xlsx') as writer:<br />
df1.to_excel(writer, sheet_name="sheet1")<br />
df2.to_excel(writer, sheet_name="sheet2")</li>
</ul></li>
<li>指定引擎写入excel
<ul>
<li>df.to_excel('xxxx.xlsx', sheet_name='Sheet1', engine =
'xlsxwriter')</li>
</ul></li>
<li>在engine参数中设置ExcelWriter使用的引擎
<ul>
<li>writer = pd.ExcelWriter('xxxx.xlsx', sheet_name='Sheet1', engine =
'xlsxwriter')<br />
df1.to_excel(writer)<br />
writer.save()</li>
</ul></li>
<li>设置系统引擎
<ul>
<li>from pandas import options<br />
options.io.xlsx.writer = 'xlsxwriter'<br />
df.to_excel(writer, sheet_name="sheet1")</li>
</ul></li>
</ol>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">simon yuan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://tresordie.github.io/2023/08/13/Pandas%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E8%BE%93%E5%87%BA/">https://tresordie.github.io/2023/08/13/Pandas%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E8%BE%93%E5%87%BA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://tresordie.github.io" target="_blank">时光渐渐逝去</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Pandas/">Pandas</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/22/%5BPython%5Dsftp%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AF%BB%E5%86%99/"><img class="prev-cover" src="https://raw.githubusercontent.com/Tresordie/PicBed/master/image-20231125162721848.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">sftp服务器文件传输</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/03/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><img class="next-cover" src="https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据结构</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/05/30/Pandas%E7%AE%80%E4%BB%8B/" title="Pandas简介"><img class="cover" src="https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-30</div><div class="title">Pandas简介</div></div></a></div><div><a href="/2023/07/03/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构"><img class="cover" src="https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-03</div><div class="title">数据结构</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/img/me.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">simon yuan</div><div class="author-info__description">记录分享学习、生活的地方</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">92</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">76</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/simonyuan2019"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://gitee.com/simonyuan2019" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Tresordie@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">IoT物联网/嵌入式学习探讨</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#pythonpandas%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="toc-number">1.</span> <span class="toc-text">[Python]Pandas数据读取与输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas-read_csv%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.1.</span> <span class="toc-text">1.pandas read_csv函数原型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas-read_csv%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">2.pandas read_csv函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#filepath_or_buffer"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 filepath_or_buffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sep"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 sep</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delimiter"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 delimiter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#header"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4 header</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#names"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index_col"><span class="toc-number">1.2.6.</span> <span class="toc-text">2.6 index_col</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usecols"><span class="toc-number">1.2.7.</span> <span class="toc-text">2.7 usecols</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#squeeze"><span class="toc-number">1.2.8.</span> <span class="toc-text">2.7 squeeze</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#prefix"><span class="toc-number">1.2.9.</span> <span class="toc-text">2.8 prefix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mangle_dupe_cols"><span class="toc-number">1.2.10.</span> <span class="toc-text">2.9 mangle_dupe_cols</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dtype"><span class="toc-number">1.2.11.</span> <span class="toc-text">2.10 dtype</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#engine"><span class="toc-number">1.2.12.</span> <span class="toc-text">2.11 engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#converters"><span class="toc-number">1.2.13.</span> <span class="toc-text">2.12 converters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#true_values%E5%92%8Cfalse_values"><span class="toc-number">1.2.14.</span> <span class="toc-text">2.13
true_values和false_values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#skipinitialspace"><span class="toc-number">1.2.15.</span> <span class="toc-text">2.14 skipinitialspace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#skiprows"><span class="toc-number">1.2.16.</span> <span class="toc-text">2.14 skiprows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#skipfooter"><span class="toc-number">1.2.17.</span> <span class="toc-text">2.15 skipfooter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nrows"><span class="toc-number">1.2.18.</span> <span class="toc-text">2.16 nrows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#na_values"><span class="toc-number">1.2.19.</span> <span class="toc-text">2.17 na_values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#parse_dates"><span class="toc-number">1.2.20.</span> <span class="toc-text">2.21 parse_dates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep_date_col"><span class="toc-number">1.2.21.</span> <span class="toc-text">2.22 keep_date_col</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iterator"><span class="toc-number">1.2.22.</span> <span class="toc-text">2.23 iterator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chunksize"><span class="toc-number">1.2.23.</span> <span class="toc-text">2.24 chunksize</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compression"><span class="toc-number">1.2.24.</span> <span class="toc-text">2.25 compression</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#encoding"><span class="toc-number">1.2.25.</span> <span class="toc-text">2.26 encoding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#error_bad_lines"><span class="toc-number">1.2.26.</span> <span class="toc-text">2.27 error_bad_lines</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#warn_bad_lines"><span class="toc-number">1.2.27.</span> <span class="toc-text">2.27 warn_bad_lines</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#low_memory"><span class="toc-number">1.2.28.</span> <span class="toc-text">2.28 low_memory</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas-read_excel%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">3.pandas read_excel函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#io"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 io</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sheet_name"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 sheet_name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#header-1"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 header</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#names-1"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4 names</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA"><span class="toc-number">1.4.</span> <span class="toc-text">4. 数据输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#df.to_csv"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 df.to_csv()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#df.to_excel"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 df.to_excel()</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/03/22/PCB%20Stack/" title="PCB Stack"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/202503221155715.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PCB Stack"/></a><div class="content"><a class="title" href="/2025/03/22/PCB%20Stack/" title="PCB Stack">PCB Stack</a><time datetime="2025-03-22T02:00:00.000Z" title="发表于 2025-03-22 10:00:00">2025-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/29/%5BPCB%20Layout%5DDRC%E5%8F%8A%E8%A7%84%E5%88%99/" title="PCB Layout DRC及规则"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/pcb_layout_drc1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PCB Layout DRC及规则"/></a><div class="content"><a class="title" href="/2025/01/29/%5BPCB%20Layout%5DDRC%E5%8F%8A%E8%A7%84%E5%88%99/" title="PCB Layout DRC及规则">PCB Layout DRC及规则</a><time datetime="2025-01-29T02:00:00.000Z" title="发表于 2025-01-29 10:00:00">2025-01-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/17/%E9%80%9A%E4%BF%A1%E5%BB%BA%E7%AB%8B%E5%8F%8A%E4%BF%9D%E6%8C%81%E6%97%B6%E9%97%B4/" title="通信建立及保持时间"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/202412171158860.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="通信建立及保持时间"/></a><div class="content"><a class="title" href="/2024/12/17/%E9%80%9A%E4%BF%A1%E5%BB%BA%E7%AB%8B%E5%8F%8A%E4%BF%9D%E6%8C%81%E6%97%B6%E9%97%B4/" title="通信建立及保持时间">通信建立及保持时间</a><time datetime="2024-12-16T16:00:00.000Z" title="发表于 2024-12-17 00:00:00">2024-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/08/%5BADC%5DADC%E8%8A%AF%E7%89%87%E5%8F%82%E6%95%B0%E5%8F%8A%E4%BD%9C%E7%94%A8/" title="ADC芯片参数及作用"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/202412081932158.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ADC芯片参数及作用"/></a><div class="content"><a class="title" href="/2024/12/08/%5BADC%5DADC%E8%8A%AF%E7%89%87%E5%8F%82%E6%95%B0%E5%8F%8A%E4%BD%9C%E7%94%A8/" title="ADC芯片参数及作用">ADC芯片参数及作用</a><time datetime="2024-12-08T12:00:00.000Z" title="发表于 2024-12-08 20:00:00">2024-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/29/%5Bmatplotlib%E5%AE%9E%E8%B7%B5%5Dmatplotlib%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0%E7%BB%98%E5%88%B6%E7%AE%80%E5%8D%95%E5%9B%BE%E5%BD%A2/" title="matplotlib统计函数绘制简单图形"><img src="https://raw.githubusercontent.com/Tresordie/PicBed/master/visualization.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="matplotlib统计函数绘制简单图形"/></a><div class="content"><a class="title" href="/2024/10/29/%5Bmatplotlib%E5%AE%9E%E8%B7%B5%5Dmatplotlib%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0%E7%BB%98%E5%88%B6%E7%AE%80%E5%8D%95%E5%9B%BE%E5%BD%A2/" title="matplotlib统计函数绘制简单图形">matplotlib统计函数绘制简单图形</a><time datetime="2024-10-29T02:10:10.000Z" title="发表于 2024-10-29 10:10:10">2024-10-29</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://raw.githubusercontent.com/Tresordie/PicBed/master/pandas.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By simon yuan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>